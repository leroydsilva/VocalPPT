<!DOCTYPE html>

<html>
<head>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<style>
body  {

  background-color: #FFFF;
}


.button {
  background-color: #0020C2;
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  margin: 4px 2px;
  cursor: pointer;
  border-radius: 25px;
}
label {
  width:200px;
  display: inline-block;
}

.button5 {font-size: 24px;}
</style>
</head>
<body>
<center>
    <br/>
    <br/>
    <br/>
    <h1><a href="/mainhome">Home</a> </h1>
    <br/>
    <br/>
    <br/>
    <br/>
    <br/>
   

    
    <ul class="collection with-header">
      <li class="collection-header"><h4 id='question'>{{data2}}</h4></li>
   
     
    </ul>
      
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      
    
    <button class="btn waves-effect waves-light" type="hidden" onclick='abcd()'>RECORD
      <i class="material-icons right">mic</i>
    </button>
    <div >
      <h2 id="transcript"> </h2>
    </div>
   
    <h1 style="color:red;"> </h1>
 
    <h1 style="color:red;">nothing</h1>

   

    <iframe id='calendar' src="http://docs.google.com/gview?url={{data}}/static/{{filename}}.pptx&embedded=true" style="width:600px; height:500px;"  frameborder="0"></iframe>
    
    
    </iframe>

</center>


<br/>
<br/>
<br/>
<script>
setInterval(() => {
    fetch("/getaudio").then(res => res.json()).then(data => {
      let doc = document.getElementById("transcript")
      if (data !== "") {
        doc.innerHTML = data.mystring
        console.log(data)
      }
    })
  }, 100);



function abcd(){
  fetch("/listen1").then(res => res.json()).then(data => {
      console.log('listen')
      let doc = document.getElementById("question")
      if (data !== "") {
        doc.innerHTML = data.mystring
        console.log(data)
      }
      
      
    })
}

setInterval(() => {
    fetch("/getfile").then(res => res.json()).then(data => {
      if (data.mystring === 'True') 
      {
        document.getElementById("calendar").src=calendar.src;
        fetch('/setfalse').then(res => console.log('done'));
        console.log(data)
      }
    })
  }, 100);

</script>

  
</body>
</html>
